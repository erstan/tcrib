{"ast":null,"code":"import _asyncToGenerator from\"/home/e_t/.nvm/versions/node/v16.13.2/projects/tcrib/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/home/e_t/.nvm/versions/node/v16.13.2/projects/tcrib/node_modules/@babel/runtime/regenerator/index.js\";import ReactDOM from'react-dom';import App from'./App';import'./index.css';import{pauseForFewSeconds}from'./components/Audio';import{jsx as _jsx}from\"react/jsx-runtime\";ReactDOM.render(/*#__PURE__*/_jsx(App,{}),document.getElementById(\"root\"));window.onload=function(){if(localStorage[\"work\"]){var saved_work=localStorage[\"work\"];document.getElementById(\"text\").value=saved_work;document.getElementById(\"save\").innerText=\"Save [ ]\";}if(sessionStorage[\"dir\"]){var saved_dir=sessionStorage[\"dir\"];var text_align;if(saved_dir==\"rtl\"){text_align=\"right\";}else if(saved_dir==\"ltr\"){text_align=\"left\";}document.getElementById(\"text\").setAttribute(\"dir\",saved_dir);document.getElementById(\"dir-toggle\").innerText=saved_dir;document.getElementById(\"text\").style.textAlign=text_align;}if(sessionStorage[\"fsize\"]){var saved_fsize=sessionStorage[\"fsize\"];document.getElementById(\"text\").style.fontSize=saved_fsize;document.getElementById(\"font-size\").innerText=saved_fsize;}console.log(\"page has been loaded\");};document.getElementById(\"audio_file\").onchange=function(){var files=this.files;var file=URL.createObjectURL(files[0]);document.getElementById(\"audio_player\").src=file;document.getElementById(\"audio_player\").play();console.log(\"played\");};var transcriptionActive=function transcriptionActive(){// new text not saved\ndocument.getElementById(\"save\").innerText=\"Save [*]\";pauseForFewSeconds();};document.getElementById(\"text\").addEventListener(\"input\",function(event){return transcriptionActive();});var saveWork=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var work,dir,fsize;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// save work in localStorage object\nwork=document.getElementById(\"text\").value;localStorage.setItem(\"work\",work);document.getElementById(\"save\").innerText=\"Save [ ]\";// save direction setting in sessionStorage object\ndir=document.getElementById(\"dir-toggle\").innerText;sessionStorage.setItem(\"dir\",dir);// save the font size setting in sessionStorage object\nfsize=document.getElementById(\"text\").style.fontSize;sessionStorage.setItem(\"fsize\",fsize);case 7:case\"end\":return _context.stop();}}},_callee);}));return function saveWork(){return _ref.apply(this,arguments);};}();document.getElementById('text').addEventListener('keydown',function(e){if(e.ctrlKey){if(e.key===\"s\"||e.code==\"KeyS\"){e.preventDefault();e.stopPropagation();saveWork();}}});","map":{"version":3,"sources":["/home/e_t/.nvm/versions/node/v16.13.2/projects/tcrib/src/index.js"],"names":["ReactDOM","App","pauseForFewSeconds","render","document","getElementById","window","onload","localStorage","saved_work","value","innerText","sessionStorage","saved_dir","text_align","setAttribute","style","textAlign","saved_fsize","fontSize","console","log","onchange","files","file","URL","createObjectURL","src","play","transcriptionActive","addEventListener","event","saveWork","work","setItem","dir","fsize","e","ctrlKey","key","code","preventDefault","stopPropagation"],"mappings":"uRAAA,MAAOA,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,MAAO,aAAP,CACA,OAAQC,kBAAR,KAAiC,oBAAjC,C,2CACAF,QAAQ,CAACG,MAAT,cACI,KAAC,GAAD,IADJ,CAEIC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAFJ,EAIAC,MAAM,CAACC,MAAP,CAAgB,UAAW,CACvB,GAAIC,YAAY,CAAC,MAAD,CAAhB,CAA0B,CACtB,GAAIC,CAAAA,UAAU,CAAGD,YAAY,CAAC,MAAD,CAA7B,CACAJ,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCK,KAAhC,CAAwCD,UAAxC,CACAL,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCM,SAAhC,CAA4C,UAA5C,CACH,CACD,GAAGC,cAAc,CAAC,KAAD,CAAjB,CAA0B,CACtB,GAAIC,CAAAA,SAAS,CAAGD,cAAc,CAAC,KAAD,CAA9B,CACA,GAAIE,CAAAA,UAAJ,CACA,GAAGD,SAAS,EAAI,KAAhB,CAAuB,CACnBC,UAAU,CAAG,OAAb,CACH,CAFD,IAEO,IAAID,SAAS,EAAI,KAAjB,CAAwB,CAC3BC,UAAU,CAAG,MAAb,CACH,CACDV,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCU,YAAhC,CAA6C,KAA7C,CAAoDF,SAApD,EACAT,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCM,SAAtC,CAAkDE,SAAlD,CACAT,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCW,KAAhC,CAAsCC,SAAtC,CAAkDH,UAAlD,CACH,CACD,GAAGF,cAAc,CAAC,OAAD,CAAjB,CAA4B,CACxB,GAAIM,CAAAA,WAAW,CAAGN,cAAc,CAAC,OAAD,CAAhC,CACAR,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCW,KAAhC,CAAsCG,QAAtC,CAAiDD,WAAjD,CACAd,QAAQ,CAACC,cAAT,CAAwB,WAAxB,EAAqCM,SAArC,CAAiDO,WAAjD,CACH,CACLE,OAAO,CAACC,GAAR,CAAY,sBAAZ,EACC,CAxBD,CAyBAjB,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCiB,QAAtC,CAAiD,UAAW,CACxD,GAAIC,CAAAA,KAAK,CAAG,KAAKA,KAAjB,CACA,GAAIC,CAAAA,IAAI,CAAGC,GAAG,CAACC,eAAJ,CAAoBH,KAAK,CAAC,CAAD,CAAzB,CAAX,CACAnB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCsB,GAAxC,CAA8CH,IAA9C,CACApB,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCuB,IAAxC,GACAR,OAAO,CAACC,GAAR,CAAY,QAAZ,EACH,CAND,CAOA,GAAIQ,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAW,CACjC;AACAzB,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCM,SAAhC,CAA4C,UAA5C,CACAT,kBAAkB,GACrB,CAJD,CAKAE,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCyB,gBAAhC,CAAiD,OAAjD,CAA0D,SAACC,KAAD,QAAWF,CAAAA,mBAAmB,EAA9B,EAA1D,EAEA,GAAIG,CAAAA,QAAQ,0FAAG,sJACX;AACIC,IAFO,CAEA7B,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCK,KAFhC,CAGXF,YAAY,CAAC0B,OAAb,CAAqB,MAArB,CAA6BD,IAA7B,EACA7B,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCM,SAAhC,CAA4C,UAA5C,CACA;AACIwB,GANO,CAMD/B,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCM,SANrC,CAOXC,cAAc,CAACsB,OAAf,CAAuB,KAAvB,CAA8BC,GAA9B,EACA;AACIC,KATO,CASChC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCW,KAAhC,CAAsCG,QATvC,CAUXP,cAAc,CAACsB,OAAf,CAAuB,OAAvB,CAAgCE,KAAhC,EAVW,sDAAH,kBAARJ,CAAAA,QAAQ,0CAAZ,CAYA5B,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCyB,gBAAhC,CAAiD,SAAjD,CAA4D,SAASO,CAAT,CAAW,CACnE,GAAIA,CAAC,CAACC,OAAN,CAAe,CACX,GAAGD,CAAC,CAACE,GAAF,GAAU,GAAV,EAAiBF,CAAC,CAACG,IAAF,EAAU,MAA9B,CAAsC,CAClCH,CAAC,CAACI,cAAF,GACAJ,CAAC,CAACK,eAAF,GACAV,QAAQ,GACX,CACJ,CACJ,CARD","sourcesContent":["import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport {pauseForFewSeconds} from './components/Audio';\nReactDOM.render(\n    <App />, \n    document.getElementById(\"root\")\n);\nwindow.onload = function() {\n    if (localStorage[\"work\"]) {\n        let saved_work = localStorage[\"work\"];\n        document.getElementById(\"text\").value = saved_work;\n        document.getElementById(\"save\").innerText = \"Save [ ]\";\n    }\n    if(sessionStorage[\"dir\"]) {\n        let saved_dir = sessionStorage[\"dir\"];\n        let text_align;\n        if(saved_dir == \"rtl\") {\n            text_align = \"right\";\n        } else if (saved_dir == \"ltr\") {\n            text_align = \"left\";\n        }\n        document.getElementById(\"text\").setAttribute(\"dir\", saved_dir);\n        document.getElementById(\"dir-toggle\").innerText = saved_dir;\n        document.getElementById(\"text\").style.textAlign = text_align;\n    }\n    if(sessionStorage[\"fsize\"]) {\n        let saved_fsize = sessionStorage[\"fsize\"];\n        document.getElementById(\"text\").style.fontSize = saved_fsize;\n        document.getElementById(\"font-size\").innerText = saved_fsize;\n    }\nconsole.log(\"page has been loaded\");  \n}\ndocument.getElementById(\"audio_file\").onchange = function() {\n    var files = this.files;\n    var file = URL.createObjectURL(files[0]); \n    document.getElementById(\"audio_player\").src = file; \n    document.getElementById(\"audio_player\").play();\n    console.log(\"played\");\n};\nlet transcriptionActive = function() {\n    // new text not saved\n    document.getElementById(\"save\").innerText = \"Save [*]\";\n    pauseForFewSeconds();\n}\ndocument.getElementById(\"text\").addEventListener(\"input\", (event) => transcriptionActive());\n\nlet saveWork = async function () { \n    // save work in localStorage object\n    let work = document.getElementById(\"text\").value;\n    localStorage.setItem(\"work\", work);\n    document.getElementById(\"save\").innerText = \"Save [ ]\";\n    // save direction setting in sessionStorage object\n    let dir = document.getElementById(\"dir-toggle\").innerText;\n    sessionStorage.setItem(\"dir\", dir);\n    // save the font size setting in sessionStorage object\n    let fsize = document.getElementById(\"text\").style.fontSize;\n    sessionStorage.setItem(\"fsize\", fsize);\n}\ndocument.getElementById('text').addEventListener('keydown', function(e){\n    if (e.ctrlKey) {\n        if(e.key === \"s\" || e.code == \"KeyS\") {\n            e.preventDefault();\n            e.stopPropagation();\n            saveWork();\n        }\n    }\n});\n\n\n"]},"metadata":{},"sourceType":"module"}